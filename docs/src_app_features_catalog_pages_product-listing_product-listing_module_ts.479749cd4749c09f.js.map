{"version":3,"file":"src_app_features_catalog_pages_product-listing_product-listing_module_ts.479749cd4749c09f.js","mappings":"0TAIEA,+BAEEA,sDANJA,iBAIEA,gCAIFA,8BAHwBA,4DAMtBA,iBAA0B,QACpBA,6BAAiBA,WCHnB,MAAOC,EAKXC,YACUC,EACAC,EACAC,EACAC,GAHAC,aACAA,cACAA,uBACAA,mBARVA,cAAuB,GACvBA,YAAiB,GACjBA,cAAmB,EAOhB,CAEHC,WACED,KAAKD,YAAYG,UAAUF,KAAKH,OAAOM,IACzC,CAEAC,wBACE,MAAMC,EAASL,KAAKJ,MAAMU,SAASC,cAAcC,IAAI,WAAa,GACnD,KAAXH,GAAiBL,KAAKK,SAAWA,IACnCL,KAAKK,OAASA,EACdL,KAAKS,yBAGP,MAAMC,EAAWV,KAAKJ,MAAMU,SAASC,cAAcC,IAAI,aAAe,GACrD,KAAbE,GAAmBV,KAAKU,WAAaA,IACvCV,KAAKU,SAAWA,EAChBV,KAAKW,qBAET,CAEMF,wBAAqB,qCACzBG,EAAKC,eAAiBD,EAAKd,gBAAgBgB,eAAeF,EAAKP,OAAQ,EAD9C,EAE3B,CAEMM,qBAAkB,qCACtBI,EAAKF,eAAiBE,EAAKjB,gBAAgBkB,qBACzCD,EAAKL,SACL,EAHoB,EAIxB,EAtCWhB,EAAuB,oCAAvBA,GAAuBuB,kDAAvBvB,EAAuB,sBAAvBA,EAAuBwB,sQDTpCzB,uBAUAA,iEATGA,gCAAuB,sfEG1B,MAAM0B,EAAiB,CAAC,CAAEC,KAAM,GAAIC,UAAW3B,IAMzC,MAAO4B,KAA2B,oCAA3BA,EAA2B,EAA3BA,EAA2B,sBAA3BA,MAA2B,0BAH5BC,cAAsBJ,GACtBI,gCCGN,MAAOC,KAAoB,oCAApBA,EAAoB,EAApBA,EAAoB,sBAApBA,MAAoB,0BAFrBC,IAAcH,EAA6BI","names":["i0","ProductListingComponent","constructor","route","router","productsService","cartService","this","ngOnInit","setAtCart","url","ngAfterContentChecked","filter","snapshot","queryParamMap","get","getProductsFromSearch","category","productsByCategory","_this","products","searchProducts","_this2","getProductByCategory","core","selectors","routes","path","component","ProductListingRoutingModule","RouterModule","ProductListingModule","SharedModule","CatalogModule"],"sourceRoot":"webpack:///","sources":["./src/app/features/catalog/pages/product-listing/product-listing.component.html","./src/app/features/catalog/pages/product-listing/product-listing.component.ts","./src/app/features/catalog/pages/product-listing/product-listing-routing.module.ts","./src/app/features/catalog/pages/product-listing/product-listing.module.ts"],"sourcesContent":["<div\n  *ngIf=\"products.length; else noProducts\"\n  class=\"catalog-products-container\"\n>\n  <product-card\n    *ngFor=\"let product of products\"\n    [product]=\"product\"\n  ></product-card>\n</div>\n\n<ng-template #noProducts>\n  <div class=\"empty-search\">\n    <h2>No products found</h2>\n  </div>\n</ng-template>\n","import { Component, SimpleChanges } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { CartService, ProductsService } from 'src/app/core/services';\nimport { IProduct } from 'src/app/shared/models';\n\n@Component({\n  templateUrl: './product-listing.component.html',\n  styleUrls: ['./product-listing.component.scss'],\n})\nexport class ProductListingComponent {\n  products: IProduct[] = [];\n  filter: string = '';\n  category: string = '';\n\n  constructor(\n    private route: ActivatedRoute,\n    private router: Router,\n    private productsService: ProductsService,\n    private cartService: CartService\n  ) {}\n\n  ngOnInit(): void {\n    this.cartService.setAtCart(this.router.url);\n  }\n\n  ngAfterContentChecked(): void {\n    const filter = this.route.snapshot.queryParamMap.get('filter') ?? '';\n    if (filter !== '' && this.filter !== filter) {\n      this.filter = filter;\n      this.getProductsFromSearch();\n    }\n\n    const category = this.route.snapshot.queryParamMap.get('category') ?? '';\n    if (category !== '' && this.category !== category) {\n      this.category = category;\n      this.productsByCategory();\n    }\n  }\n\n  async getProductsFromSearch() {\n    this.products = await this.productsService.searchProducts(this.filter);\n  }\n\n  async productsByCategory() {\n    this.products = await this.productsService.getProductByCategory(\n      this.category\n    );\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { ProductListingComponent } from './product-listing.component';\n\nconst routes: Routes = [{ path: '', component: ProductListingComponent }];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class ProductListingRoutingModule {}\n","import { NgModule } from '@angular/core';\n\nimport { ProductListingRoutingModule } from './product-listing-routing.module';\nimport { ProductListingComponent } from './product-listing.component';\nimport { SharedModule } from 'src/app/shared/shared.module';\nimport { CatalogModule } from '../../catalog.module';\n\n@NgModule({\n  declarations: [ProductListingComponent],\n  imports: [SharedModule, ProductListingRoutingModule, CatalogModule],\n})\nexport class ProductListingModule {}\n"],"x_google_ignoreList":[]}