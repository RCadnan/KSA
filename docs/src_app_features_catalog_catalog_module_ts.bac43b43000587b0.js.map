{"version":3,"file":"src_app_features_catalog_catalog_module_ts.bac43b43000587b0.js","mappings":"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","names":["i0","CategoryContainerComponent","constructor","utils","this","ngOnInit","name","captalizeFirstLetter","replace","core","selectors","CatalogComponent","productsService","cartService","router","setAtCart","url","getCategories","then","_","_this","getProducts","length","fillArray","_this2","categories","category","_this3","products","filter","product","productsByCategory","allProducts","_this4","getProductByCategory","push","setProducts","routes","path","pathMatch","redirectTo","component","loadChildren","__webpack_require__","m","ProductDetailsModule","ProductListingModule","CatalogRoutingModule","RouterModule","CatalogModule","SharedModule","toLeft","fromState","toState","left","toRight","slideAnimation","trigger","state","style","transform","display","opacity","transition","group","query","animate","optional","fadeAnimation","zIndex","ImagesCarouselComponent","ngOnChanges","changes","carouselImages","images","currentValue","map","img","start","end","isActive","index","currentIndex","prevImage","slide","nextImage","ProductCardComponent","addToCart","event","stopPropagation","cartProduct","id","title","price","quantity","total","discountedPrice","discountPercentage","image","thumbnail","addProductToCart","isSoldOut","stock","getRemain","openDetails","navigate","_angular_core__WEBPACK_IMPORTED_MODULE_1__","ctx"],"sourceRoot":"webpack:///","sources":["./src/app/features/catalog/components/category-container/category-container.component.html","./src/app/features/catalog/components/category-container/category-container.component.ts","./src/app/features/catalog/catalog.component.html","./src/app/features/catalog/catalog.component.ts","./src/app/features/catalog/catalog-routing.module.ts","./src/app/features/catalog/catalog.module.ts","./src/app/core/animations/slide.animation.ts","./src/app/core/animations/fade.animation.ts","./src/app/features/catalog/components/images-carousel/images-carousel.component.html","./src/app/features/catalog/components/images-carousel/images-carousel.component.ts","./src/app/features/catalog/components/product-card/product-card.component.html","./src/app/features/catalog/components/product-card/product-card.component.ts"],"sourcesContent":["<mat-card>\n  <mat-card-header>\n    <mat-card-title>{{ name }}</mat-card-title>\n  </mat-card-header>\n  <mat-card-content>\n    <div class=\"catalog-products-container\">\n      <product-card\n        *ngFor=\"let product of products\"\n        [product]=\"product\"\n      ></product-card>\n    </div>\n  </mat-card-content>\n</mat-card>\n","import { Component, Input } from '@angular/core';\nimport { UtilsService } from 'src/app/core/services';\nimport { IProduct } from 'src/app/shared/models';\n\n@Component({\n  selector: 'category-container',\n  templateUrl: './category-container.component.html',\n  styleUrls: ['./category-container.component.scss'],\n})\nexport class CategoryContainerComponent {\n  @Input() name: string = '';\n  @Input() products: IProduct[] = [];\n\n  constructor(private utils: UtilsService) {}\n\n  ngOnInit() {\n    this.name = this.utils.captalizeFirstLetter(this.name.replace('-', ' '));\n  }\n}\n","<img src=\"assets/images/banner.png\" loading=\"lazy\" />\n<div class=\"catalog-container\" *ngFor=\"let category of categories\">\n  <category-container\n    [name]=\"category\"\n    [products]=\"productsByCategory[category]\"\n  ></category-container>\n</div>\n","import { Component } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { ProductsService, CartService } from 'src/app/core/services';\nimport { IProduct } from 'src/app/shared/models';\n\n@Component({\n  templateUrl: './catalog.component.html',\n  styleUrls: ['./catalog.component.scss'],\n})\nexport class CatalogComponent {\n  categories: string[] = [];\n  productsByCategory: { [key: string]: IProduct[] } = {};\n\n  constructor(\n    private productsService: ProductsService,\n    private cartService: CartService,\n    private router: Router\n  ) {}\n\n  ngOnInit() {\n    this.cartService.setAtCart(this.router.url);\n    this.getCategories().then(async (_) => {\n      if ((await this.productsService.getProducts()).length === 0) {\n        this.getProducts();\n      } else {\n        this.fillArray();\n      }\n    });\n  }\n\n  async getCategories() {\n    this.categories = await this.productsService.getCategories();\n  }\n\n  private async fillArray() {\n    for (const category of this.categories) {\n      const products = (await this.productsService.getProducts()).filter(\n        (product) => product.category === category\n      );\n      this.productsByCategory[category] = products;\n    }\n  }\n\n  async getProducts() {\n    const allProducts: IProduct[] = [];\n    for (const category of this.categories) {\n      const products = await this.productsService.getProductByCategory(\n        category\n      );\n      this.productsByCategory[category] = products;\n      allProducts.push(...products);\n    }\n    this.productsService.setProducts(allProducts);\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { CatalogComponent } from './catalog.component';\n\nconst routes: Routes = [\n  { path: 'details', pathMatch: 'full', redirectTo: '' },\n  {\n    path: '',\n    component: CatalogComponent,\n  },\n  {\n    path: 'details/:prod',\n    loadChildren: () =>\n      import('./pages/product-details/product-details.module').then(\n        (m) => m.ProductDetailsModule\n      ),\n  },\n  {\n    path: 'search',\n    loadChildren: () =>\n      import('./pages/product-listing/product-listing.module').then(\n        (m) => m.ProductListingModule\n      ),\n  },\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class CatalogRoutingModule {}\n","import { NgModule } from '@angular/core';\n\nimport { SharedModule } from 'src/app/shared/shared.module';\nimport { CatalogRoutingModule } from './catalog-routing.module';\n\nimport { CatalogComponent } from './catalog.component';\nimport * as components from './components';\n\n@NgModule({\n  declarations: [CatalogComponent, ...components.catalogComponents],\n  imports: [SharedModule, CatalogRoutingModule],\n  exports: [...components.catalogComponents],\n})\nexport class CatalogModule {}\n","import {\n  trigger,\n  state,\n  style,\n  transition,\n  group,\n  query,\n  animate,\n} from '@angular/animations';\n\nexport function toLeft(fromState: any, toState: any): boolean {\n  return toState.left === true;\n}\nexport function toRight(fromState: any, toState: any): boolean {\n  return toState.left === false;\n}\n\nexport const slideAnimation = trigger('slideAnimation', [\n  state(\n    '*',\n    style({ transform: 'translateX(0)', display: 'block', opacity: 1 })\n  ),\n  transition(\n    toLeft,\n    group([\n      query(\n        ':leave',\n        [\n          animate(\n            '0.6s ease-in-out',\n            style({\n              transform: 'translateX(-100%)',\n            })\n          ),\n        ],\n        { optional: true }\n      ),\n      query(\n        ':enter',\n        [\n          style({\n            transform: 'translateX(100%)',\n          }),\n          animate('0.6s ease-in-out', style('*')),\n        ],\n        { optional: true }\n      ),\n    ])\n  ),\n  transition(\n    toRight,\n    group([\n      query(\n        ':enter',\n        [\n          style({\n            transform: 'translateX(-100%)',\n          }),\n          animate('0.6s ease-in-out', style('*')),\n        ],\n        { optional: true }\n      ),\n      query(\n        ':leave',\n        [\n          animate(\n            '0.6s ease-in-out',\n            style({\n              transform: 'translateX(100%)',\n            })\n          ),\n        ],\n        { optional: true }\n      ),\n    ])\n  ),\n]);\n","import {\n  trigger,\n  state,\n  style,\n  transition,\n  group,\n  query,\n  animate,\n} from '@angular/animations';\nimport { toLeft, toRight } from './slide.animation';\n\nexport const fadeAnimation = trigger('fadeAnimation', [\n  state('*', style({ zIndex: 1, opacity: 1 })),\n  transition(\n    toLeft,\n    group([\n      query(\n        ':leave',\n        [\n          animate(\n            '0.6s ease-in-out',\n            style({\n              zIndex: 0,\n              opacity: 0,\n            })\n          ),\n        ],\n        { optional: true }\n      ),\n      query(\n        ':enter',\n        [\n          style({\n            zIndex: 1,\n            opacity: 1,\n          }),\n          animate('0.6s ease-in-out', style('*')),\n        ],\n        { optional: true }\n      ),\n    ])\n  ),\n  transition(\n    toRight,\n    group([\n      query(\n        ':enter',\n        [\n          style({\n            zIndex: 1,\n            opacity: 1,\n          }),\n          animate('0.6s ease-in-out', style('*')),\n        ],\n        { optional: true }\n      ),\n      query(\n        ':leave',\n        [\n          animate(\n            '0.6s ease-in-out',\n            style({\n              zIndex: 0,\n              opacity: 0,\n            })\n          ),\n        ],\n        { optional: true }\n      ),\n    ])\n  ),\n]);\n","<div class=\"carousel-container\">\n  <div class=\"images\" [@fadeAnimation]=\"slide\">\n    <div\n      class=\"mini-item\"\n      *ngFor=\"let image of images; let i = index\"\n      (click)=\"currentIndex = i\"\n    >\n      <img [src]=\"image\" loading=\"lazy\" />\n    </div>\n  </div>\n\n  <div class=\"slider\" [@slideAnimation]=\"slide\">\n    <div class=\"item\" *ngFor=\"let image of carouselImages; let i = index\">\n      <img\n        [src]=\"image.url\"\n        loading=\"lazy\"\n        *ngIf=\"isActive(i)\"\n        [class.item-active]=\"isActive(i)\"\n      />\n    </div>\n    <div class=\"slide-left\" *ngIf=\"currentIndex !== 0\" (click)=\"prevImage()\">\n      <mat-icon fontIcon=\"arrow_back_ios\"> </mat-icon>\n    </div>\n    <div\n      class=\"slide-right\"\n      *ngIf=\"currentIndex !== images.length - 1\"\n      (click)=\"nextImage()\"\n    >\n      <mat-icon fontIcon=\"arrow_forward_ios\"> </mat-icon>\n    </div>\n  </div>\n</div>\n","import { Component, Input, SimpleChanges } from '@angular/core';\nimport { fadeAnimation, slideAnimation } from 'src/app/core/animations';\n\n@Component({\n  selector: 'images-carousel',\n  templateUrl: './images-carousel.component.html',\n  styleUrls: ['./images-carousel.component.scss'],\n  animations: [slideAnimation, fadeAnimation],\n})\nexport class ImagesCarouselComponent {\n  @Input() images: string[] = [];\n\n  currentIndex = 0;\n  slide = { left: true };\n  carouselImages: { url: string; start: boolean; end: boolean }[] = [];\n\n  constructor() {}\n\n  ngOnInit() {}\n\n  ngOnChanges(changes: SimpleChanges): void {\n    const imgs: string[] = changes['images'].currentValue;\n    this.carouselImages = imgs.map((img) => {\n      return {\n        url: img,\n        start: false,\n        end: false,\n      };\n    });\n  }\n\n  isActive(index: number) {\n    return this.currentIndex === index;\n  }\n\n  prevImage() {\n    this.currentIndex--;\n    this.slide = { left: false };\n  }\n\n  nextImage() {\n    this.currentIndex++;\n    this.slide = { left: true };\n  }\n}\n","<mat-card (click)=\"openDetails(product.id.toString())\">\n  <mat-card-header>\n    <mat-card-title>{{ product.title }}</mat-card-title>\n  </mat-card-header>\n  <div class=\"card-image\">\n    <img matCardImage loading=\"lazy\" [src]=\"product.thumbnail\" />\n  </div>\n  <mat-card-content>\n    <div class=\"content\">\n      <span class=\"price\">\n        {{ product.price | currency : \"USD\" : \"symbol\" }}\n      </span>\n      <span class=\"quantity\" [class.sold-out]=\"this.isSoldOut()\">\n        {{ getRemain() }}\n      </span>\n    </div>\n  </mat-card-content>\n  <mat-card-actions align=\"end\">\n    <button\n      mat-raised-button\n      (click)=\"addToCart($event)\"\n      color=\"primary\"\n      *ngIf=\"!isSoldOut()\"\n    >\n      Add to Cart\n    </button>\n  </mat-card-actions>\n  <mat-card-footer>\n    <div class=\"rating\">\n      <div class=\"rate\">\n        <mat-icon fontIcon=\"star\"></mat-icon>\n        <span>{{ product.rating }}</span>\n      </div>\n    </div>\n  </mat-card-footer>\n</mat-card>\n","import { Component, Input } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { CartService } from 'src/app/core/services';\nimport { ICartProduct, IProduct } from 'src/app/shared/models';\n\n@Component({\n  selector: 'product-card',\n  templateUrl: './product-card.component.html',\n  styleUrls: ['./product-card.component.scss'],\n})\nexport class ProductCardComponent {\n  @Input() product!: IProduct;\n\n  cartProduct!: ICartProduct;\n\n  constructor(private cartService: CartService, private router: Router) {}\n\n  ngOnInit() {}\n\n  addToCart(event: MouseEvent) {\n    event.stopPropagation();\n    this.cartProduct = {\n      id: this.product.id,\n      title: this.product.title,\n      price: this.product.price,\n      quantity: 1,\n      total: this.product.price * 1,\n      discountedPrice: 0,\n      discountPercentage: this.product.discountPercentage,\n      image: this.product.thumbnail,\n    };\n    this.cartService.addProductToCart(this.cartProduct);\n  }\n\n  isSoldOut(): boolean {\n    return this.product.stock === 0;\n  }\n\n  getRemain(): string {\n    if (this.product.stock === 0) {\n      return 'SOLD OUT';\n    }\n\n    return `Left: ${this.product.stock}`;\n  }\n\n  openDetails(id: string) {\n    this.router.navigate([`/products/details/${id}`]);\n  }\n}\n"],"x_google_ignoreList":[]}