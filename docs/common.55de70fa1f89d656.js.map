{"version":3,"file":"common.55de70fa1f89d656.js","mappings":"2KAaM,MAAOA,EACXC,YACUC,EACAC,EACAC,GAFAC,mBACAA,cACAA,YACP,CAEKC,WAAWC,GACjB,SAAIF,KAAKH,YAAYM,eAAgBH,KAAKH,YAAYO,kBAItDJ,KAAKD,MAAMM,oBACT,yBACA,6CAEFL,KAAKF,OAAOQ,SAAS,CAAC,UAAW,CAAEC,YAAa,CAAEC,KAAMN,KACjD,GACT,CAEAO,YACEC,EACAC,GAEA,OAAKA,EAAMC,IAAIC,SAAS,SAIjBb,KAAKC,WAAWU,EAAMC,MAAQZ,KAAKH,YAAYiB,UAH7Cd,KAAKC,WAAWU,EAAMC,IAIjC,EA7BWjB,EAAS,oCAATA,GAASoB,sCAATpB,EAAS,wBAATA,EAASqB,QAATrB,EAAS,qBAFR,kECLR,MAAOsB,EACXrB,YAAoBsB,iBAA6B,CAEjDC,OACEnB,KAAKkB,QAAQC,KAAK,iBACpB,CAEAC,OACEpB,KAAKkB,QAAQE,KAAK,iBACpB,EATWH,EAAqB,oCAArBA,GAAqBI,cAArBJ,EAAqB,wBAArBA,EAAqBD,QAArBC,EAAqB,qBAFpB","names":["AuthGuard","constructor","authService","router","alert","this","checkLogin","fromUrl","isLoggedIn","hasLoggedUser","createWarningDialog","navigate","queryParams","from","canActivate","route","state","url","includes","isAdmin","_angular_core__WEBPACK_IMPORTED_MODULE_1__","factory","LoadingSpinnerService","spinner","show","hide","_angular_core__WEBPACK_IMPORTED_MODULE_0__"],"sourceRoot":"webpack:///","sources":["./src/app/core/guards/auth/auth.guard.ts","./src/app/core/services/spinner/loading-spinner.service.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\nimport {\n  ActivatedRouteSnapshot,\n  CanActivate,\n  Router,\n  RouterStateSnapshot,\n} from '@angular/router';\nimport { AlertService, AuthService } from '../../services';\nimport { RouteGuard } from '../../types';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class AuthGuard implements CanActivate {\n  constructor(\n    private authService: AuthService,\n    private router: Router,\n    private alert: AlertService\n  ) {}\n\n  private checkLogin(fromUrl: string): boolean {\n    if (this.authService.isLoggedIn() || this.authService.hasLoggedUser()) {\n      return true;\n    }\n\n    this.alert.createWarningDialog(\n      'You are not logged in!',\n      'You need to be logged to access this page'\n    );\n    this.router.navigate(['/login'], { queryParams: { from: fromUrl } });\n    return false;\n  }\n\n  canActivate(\n    route: ActivatedRouteSnapshot,\n    state: RouterStateSnapshot\n  ): RouteGuard {\n    if (!state.url.includes('admin')) {\n      return this.checkLogin(state.url);\n    }\n\n    return this.checkLogin(state.url) && this.authService.isAdmin();\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { NgxSpinnerService } from 'ngx-spinner';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class LoadingSpinnerService {\n  constructor(private spinner: NgxSpinnerService) {}\n\n  show() {\n    this.spinner.show('loadingSpinner');\n  }\n\n  hide() {\n    this.spinner.hide('loadingSpinner');\n  }\n}\n"],"x_google_ignoreList":[]}